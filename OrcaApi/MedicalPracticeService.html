<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: OrcaApi::MedicalPracticeService
  
    &mdash; Documentation by YARD 0.9.16
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "OrcaApi::MedicalPracticeService";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../OrcaApi.html" title="OrcaApi (module)">OrcaApi</a></span></span>
     &raquo; 
    <span class="title">MedicalPracticeService</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: OrcaApi::MedicalPracticeService
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Service.html" title="OrcaApi::Service (class)">Service</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Service.html" title="OrcaApi::Service (class)">Service</a></span></li>
          
            <li class="next">OrcaApi::MedicalPracticeService</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/orca_api/medical_practice_service.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>診療行為を扱うサービスを表現したクラス
診療行為の登録の流れを以下に示す。</p>

<ul>
<li>(1) 患者の保険情報と診察料のデフォルト値の返却: get_default

<ul>
<li>取得したデフォルト値を元に、次のメソッドの引数を組み立てる。</li>
<li>詳しくは <code>example/medical_practice_service/get_default.rb</code> を参照。</li>
</ul></li>
<li>(2) 診察料情報の取得: get_examination_fee

<ul>
<li>取得した診察料情報を元に、次のメソッドの引数を組み立てる。</li>
<li>詳しくは <code>example/medical_practice_service/get_examination_fee.rb</code> を参照。</li>
</ul></li>
<li>(3) 診療情報及び請求情報の取得: calc_medical_practice_fee

<ul>
<li>取得した診療情報及び請求情報を元に、次のメソッドの引数を組み立てる。</li>
<li>詳しくは <code>example/medical_practice_service/cal_medical_practice_fee.rb</code> を参照。</li>
</ul></li>
<li>(4) 診療行為の登録: create

<ul>
<li>詳しくは <code>example/medical_practice_service/crud.rb</code> を参照。</li>
</ul></li>
</ul>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>診療行為の訂正</p>
</div></p>
      
      <pre class="example code"><code><span class='comment'># 対象の受診履歴を指定すること以外は、診療情報及び請求情報の取得と診療行為の登録と同じ流れ
</span><span class='id identifier rubyid_medical_information'>medical_information</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_medical_information'>medical_information</span>
<span class='comment'>#&gt; ここで診療行為登録内容を訂正する
</span><span class='comment'>#&gt; 時間外区分も設定する
</span><span class='id identifier rubyid_medical_information'>medical_information</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OffTime</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># 時間外区分/1/外来時間外区分（０から８）とする（環境設定の外来時間外区分）
</span><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='comment'>#&gt; ハッシュの値は、受信履歴を取得するためにInvoice_Numberを指定すること以外は
</span>  <span class='comment'>#&gt; 診察料情報の取得、診療情報及び請求情報の取得と同じ
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invoice_Number</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_invoice_number'>invoice_number</span><span class='comma'>,</span> <span class='comment'># 伝票番号/7/訂正時必須
</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Patient_ID</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_patient_id'>patient_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='comment'># 患者番号/20/必須
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Perform_Date</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_perform_date'>perform_date</span><span class='comma'>,</span> <span class='comment'># 診療日付/10/未設定はシステム日付
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Perform_Time</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>10:30:00</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 診療時間/8/未使用
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Diagnosis_Information</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='comment'># 送信内容
</span>    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Department_Code</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_department_code'>department_code</span><span class='comma'>,</span> <span class='comment'># 診療科/2/必須
</span>    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Physician_Code</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_physician_code'>physician_code</span><span class='comma'>,</span> <span class='comment'># ドクターコード/5
</span>    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outside_Class</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outside_Class</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='comment'># 院内・院外区分/5/院内＝False、院外＝True ※2
</span>    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HealthInsurance_Information</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_health_insurance_information'>health_insurance_information</span><span class='comma'>,</span> <span class='comment'># 保険情報
</span>    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Information</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_medical_information'>medical_information</span><span class='comma'>,</span> <span class='comment'># 診療送信内容
</span>  <span class='rbrace'>}</span><span class='comma'>,</span>
<span class='rbrace'>}</span>
<span class='comment'>#&gt; ※２　投薬の院内・院外が診療種別から判断できない場合に、剤点数≠ゼロを院内、剤点数＝ZEROかつ薬剤がある場合を院外とする。
</span><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_medical_practice_service'>medical_practice_service</span><span class='period'>.</span><span class='id identifier rubyid_calc_medical_practice_fee'>calc_medical_practice_fee</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
  <span class='comment'># エラー
</span><span class='kw'>end</span>
<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_medical_information'>medical_information</span> <span class='comment'>#=&gt; 診療情報
</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_cd_information'>cd_information</span> <span class='comment'>#=&gt; 請求情報
</span>
<span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Base_Date</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># 基準日/10/収納発行日を診療日付以外とする時に設定
</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ic_Code</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_cd_information'>cd_information</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ic_Code</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='comment'># 入金方法/2/未設定は、システム管理・患者登録設定内容
</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ic_Request_Code</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_cd_information'>cd_information</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ic_Request_Code</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='comment'># 入金取り扱い区分/1/※５
</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ic_All_Code</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># 一括入返金区分/1/※６
</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cd_Information</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='comment'># 収納情報
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ad_Money1</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 調整金１/10/※2 マイナス可　　※3
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ad_Money2</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 調整金２/10/※2 マイナス可　　※3
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ic_Money</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_cd_information'>cd_information</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cd_Information2</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ic_Money</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='comment'># 入金額/10/今回合計請求額以下であること　マイナス不可
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Re_Money</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 返金額/10/※７　マイナス不可
</span><span class='rbrace'>}</span>
<span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print_Information</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='comment'># 印刷区分 ※８
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print_Prescription_Class</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 処方せん印刷区分/1/０：発行なし、１：発行あり、２：院内処方発行
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print_Invoice_Receipt_Class</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 請求書兼領収書印刷区分/1/※９
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print_Statement_Class</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 診療費明細書印刷区分/1/０：発行なし、１：発行あり
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print_Medicine_Information_Class</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 薬剤情報印刷区分/1/０：発行なし、１：発行あり、２：院外分発行
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print_Medication_Note_Class</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 薬手帳印刷区分/1/０：発行なし、１：発行あり、２：院外分発行
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Print_Appointment_Form_Class</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 予約票印刷区分/1/０：発行なし、１：発行あり
</span><span class='rbrace'>}</span>
<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_medical_practice_service'>medical_practice_service</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
  <span class='comment'># エラー
</span><span class='kw'>end</span>
<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_medical_information'>medical_information</span> <span class='comment'>#=&gt; 診療情報
</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_cd_information'>cd_information</span> <span class='comment'>#=&gt; 請求情報</span></code></pre>
    
  </div>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api21v03.pdf" target="_parent" title="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api21v03.pdf">http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api21v03.pdf</a></li>
    
  </ul>

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="MedicalPracticeService/EmptyDeleteNumberInfoError.html" title="OrcaApi::MedicalPracticeService::EmptyDeleteNumberInfoError (class)">EmptyDeleteNumberInfoError</a></span>, <span class='object_link'><a href="MedicalPracticeService/Response1Result.html" title="OrcaApi::MedicalPracticeService::Response1Result (class)">Response1Result</a></span>, <span class='object_link'><a href="MedicalPracticeService/Response2Result.html" title="OrcaApi::MedicalPracticeService::Response2Result (class)">Response2Result</a></span>, <span class='object_link'><a href="MedicalPracticeService/Response3Result.html" title="OrcaApi::MedicalPracticeService::Response3Result (class)">Response3Result</a></span>, <span class='object_link'><a href="MedicalPracticeService/ResponseResult.html" title="OrcaApi::MedicalPracticeService::ResponseResult (class)">ResponseResult</a></span>, <span class='object_link'><a href="MedicalPracticeService/UnselectedError.html" title="OrcaApi::MedicalPracticeService::UnselectedError (class)">UnselectedError</a></span>
    
  
</p>






  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Service.html" title="OrcaApi::Service (class)">Service</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Service.html#orca_api-instance_method" title="OrcaApi::Service#orca_api (method)">#orca_api</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#calc_medical_practice_fee-instance_method" title="#calc_medical_practice_fee (instance method)">#<strong>calc_medical_practice_fee</strong>(params)  &#x21d2; OrcaApi::MedicalPracticeService::Response3Result, ... </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>診療情報及び請求情報の取得.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_contraindication-instance_method" title="#check_contraindication (instance method)">#<strong>check_contraindication</strong>(params)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>薬剤併用禁忌チェック.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-instance_method" title="#create (instance method)">#<strong>create</strong>(params)  &#x21d2; Response3Result </a>
    

    
      (also: #update)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>診療行為の登録.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#destroy-instance_method" title="#destroy (instance method)">#<strong>destroy</strong>(params)  &#x21d2; OrcaApi::Result </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>診療行為の削除.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get-instance_method" title="#get (instance method)">#<strong>get</strong>(params)  &#x21d2; OrcaApi::Result </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>診療行為の取得.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_default-instance_method" title="#get_default (instance method)">#<strong>get_default</strong>(params)  &#x21d2; Response1Result </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>デフォルト値の返却.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_examination_fee-instance_method" title="#get_examination_fee (instance method)">#<strong>get_examination_fee</strong>(params)  &#x21d2; Response1Result </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>診察料情報の取得.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Service.html" title="OrcaApi::Service (class)">Service</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Service.html#initialize-instance_method" title="OrcaApi::Service#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="Service.html#reuse_session-class_method" title="OrcaApi::Service.reuse_session (method)">reuse_session</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class='object_link'><a href="Service.html#initialize-instance_method" title="OrcaApi::Service#initialize (method)">OrcaApi::Service</a></span></p>
  
</div>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class='object_link'><a href="Service.html#initialize-instance_method" title="OrcaApi::Service#initialize (method)">OrcaApi::Service</a></span></p>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="calc_medical_practice_fee-instance_method">
  
    #<strong>calc_medical_practice_fee</strong>(params)  &#x21d2; <tt><span class='object_link'><a href="MedicalPracticeService/Response3Result.html" title="OrcaApi::MedicalPracticeService::Response3Result (class)">OrcaApi::MedicalPracticeService::Response3Result</a></span></tt>, ... 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>診療情報及び請求情報の取得</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='comment'># 診療種別区分を指定せずに薬剤を追加する。
</span><span class='id identifier rubyid_medical_info'>medical_info</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Info</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Code</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>620002477</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 薬剤コード/9
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Name</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ベザレックスＳＲ錠１００　１００ｍｇ</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 省略可能
</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Number</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
<span class='rbrace'>}</span>
<span class='comment'># 診療種別区分として手術を指定して薬剤を追加する。
</span><span class='id identifier rubyid_medical_info'>medical_info</span> <span class='op'>&lt;&lt;</span> <span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Class</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>500</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Info</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Code</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>620002477</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 薬剤コード/9
</span>      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Name</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ベザレックスＳＲ錠１００　１００ｍｇ</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 省略可能
</span>      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Number</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='rbracket'>]</span><span class='comma'>,</span>
<span class='rbrace'>}</span>
<span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Diagnosis_Information</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Information</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Info</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_medical_info'>medical_info</span>
<span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Diagnosis_Information</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outside_Class</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>True</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># 院内・院外区分/5/院内＝False、院外＝True（未設定はシステム管理）
</span><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_medical_practice_service'>medical_practice_service</span><span class='period'>.</span><span class='id identifier rubyid_calc_medical_practice_fee'>calc_medical_practice_fee</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
<span class='kw'>while</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../OrcaApi.html#OrcaApi-constant" title="OrcaApi::OrcaApi (constant)">OrcaApi</a></span></span><span class='op'>::</span><span class='const'>MedicalPracticeService</span><span class='op'>::</span><span class='const'>UnselectedError</span>
    <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_medical_select_information'>medical_select_information</span> <span class='comment'>#=&gt; 選択項目
</span>
    <span class='comment'># 選択項目が存在するため、paramsに選択項目への回答を追加する。
</span>    <span class='comment'># 複数の選択項目がある場合は、都度このエラーが発生するため、すべての回答を追加すること。
</span>    <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Select_Information</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span>
      <span class='lbrace'>{</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Select</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0113</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 確認メッセージコード/4
</span>        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Select_Message</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>特定疾患処方管理加算が算定できます。ＯＫで自動算定します。</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 確認メッセージ/100/省略可能
</span>        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Select_Answer</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># 確認メッセージ返答/3/Ok 、No (OK,NO)
</span>      <span class='rbrace'>}</span><span class='comma'>,</span>
      <span class='lbrace'>{</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Select</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2003</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Select_Message</span><span class='label_end'>&quot;:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>手帳記載加算（薬剤情報提供料）を算定します。よろしいですか？</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Select_Answer</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Yes</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../OrcaApi.html#OrcaApi-constant" title="OrcaApi::OrcaApi (constant)">OrcaApi</a></span></span><span class='op'>::</span><span class='const'>MedicalPracticeService</span><span class='op'>::</span><span class='const'>EmptyDeleteNumberInfoError</span>
    <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_medical_information'>medical_information</span> <span class='comment'>#=&gt; 診療情報情報。削除可能な剤には&quot;Medical_Delete_Number&quot;が存在する。
</span>    <span class='comment'># &quot;Medical_Delete_Number&quot;が存在する場合のHashの例: spec/fixtures/orca_api_responses/api21_medicalmodv32_03_delete.json
</span>
    <span class='comment'># 削除可能な剤が存在するため、paramsに削除するかどうかを追加する。
</span>    <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete_Number_Info</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span>
      <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete_Number</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>01</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='comment'># その他のエラー
</span>    <span class='kw'>break</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_medical_practice_service'>medical_practice_service</span><span class='period'>.</span><span class='id identifier rubyid_calc_medical_practice_fee'>calc_medical_practice_fee</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
<span class='kw'>end</span>
<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
  <span class='comment'># エラー
</span><span class='kw'>end</span>
<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_medical_information'>medical_information</span> <span class='comment'>#=&gt; 診療情報
</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_cd_information'>cd_information</span> <span class='comment'>#=&gt; 請求情報</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><ul>
<li>&quot;Patient_ID&quot; (String)
患者番号/20/必須</li>
<li>&quot;Perform_Date&quot; (String)
診療日付/10/未設定はシステム日付</li>
<li>&quot;Perform_Time&quot; (String)
診療時間/8/未使用</li>
<li>&quot;Diagnosis_Information&quot; (Hash)
MedicalPracticeService#get_examination_fee の &quot;Diagnosis_Information&quot; と同じデータを渡す。
以下は追加パラメータ

<ul>
<li>&quot;Outside_Class&quot; (&quot;False&quot;, &quot;True&quot;)
院内・院外区分/5/院内＝False、院外＝True（未設定はシステム管理）</li>
<li>&quot;Medical_Information&quot; ({ &quot;Medical_Info&quot; =&gt; Array<Hash> })
診療行為情報</li>
<li>&quot;Medical_Class&quot; (String)
診療種別区分/3/必須</li>
<li>&quot;Medical_Class_Name&quot; (String)
診療種別区分名称/40</li>
<li>&quot;Medical_Class_Number&quot; (String)
回数/3/未設定は１、０はエラー</li>
<li>&quot;Medication_Info&quot; (Array<Hash>)
診療剤明細（５０）/50

<ul>
<li>&quot;Medication_Code&quot; (String)
診療コード/9</li>
<li>&quot;Medication_Name&quot; (String)
名称/80。
名称を入力するコメントコード（81XXXXXXX,83XXXXXXXX,0083XXXXX、0085～）は全内容（点数マスタの名称＋入力内容）。</li>
<li>&quot;Medication_Number&quot; (String)
数量/11/未設定は１、０はエラー</li>
<li>&quot;Medication_Moeny&quot; (String)
自費金額/7/金額ゼロで登録してある自費コードの金額（消費税込）</li>
<li>&quot;Medication_Input_Info&quot; (&lt;{ &quot;Medication_Input_Code&quot; =&gt; String }&gt;)
コメント埋め込み数値（５）/5</li>
<li>&quot;Medication_Input_Code&quot; (String)
コメント埋め込み数値/8/（１）から順に数値を編集</li>
<li>&quot;Medication_Film_Comp_Number&quot; (String)
フィルム分画数/3</li>
<li>&quot;Medication_Continue&quot; (String)
継続コメント指示区分/1</li>
<li>&quot;Medication_Internal_Kinds&quot; (String)
内服種類数指示区分/1/１：内服種類数を１とする</li>
<li>&quot;Medication_No_Addition_Class&quot; (String)
加算自動算定なし/3。
在医総管・施医総菅（C002）の在宅療養実績加算、精神通院（I002）の２０未満の加算を自動算定しない場合に「Yes」を設定します。</li>
<li>&quot;Medication_Auto_Addition&quot; (String)
自動区分/1。
レスポンス内容をリクエスト内容として返却する時そのまま返却すること。変更した場合の不具合は保障できない。</li>
</ul></li>
</ul></li>
<li>&quot;Medical_Select_Information&quot; (Array<Hash>)
確認領域

<ul>
<li>&quot;Medical_Select&quot; (String)
確認メッセージコード</li>
<li>&quot;Select_Answer&quot; (&quot;Ok&quot;, &quot;No&quot;)
確認メッセージ返答</li>
</ul></li>
<li>&quot;Delete_Number_Info&quot; (Array<Hash>)
在削除連番

<ul>
<li>&quot;Delete_Number&quot; (String)
在削除連番</li>
</ul></li>
</ul>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MedicalPracticeService/Response3Result.html" title="OrcaApi::MedicalPracticeService::Response3Result (class)">OrcaApi::MedicalPracticeService::Response3Result</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>日レセからのレスポンス</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MedicalPracticeService/UnselectedError.html" title="OrcaApi::MedicalPracticeService::UnselectedError (class)">OrcaApi::MedicalPracticeService::UnselectedError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>選択項目がある場合の日レセからのレスポンス</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MedicalPracticeService/EmptyDeleteNumberInfoError.html" title="OrcaApi::MedicalPracticeService::EmptyDeleteNumberInfoError (class)">OrcaApi::MedicalPracticeService::EmptyDeleteNumberInfoError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>削除可能な剤がある場合の日レセからのレスポンス</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api2" target="_parent" title="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api2">http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api2</a></li>
    
      <li><a href="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api3" target="_parent" title="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api3">http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api3</a></li>
    
      <li><a href="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api4" target="_parent" title="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api4">http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api4</a></li>
    
      <li><a href="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api21v03.pdf" target="_parent" title="（診療内容チェック）（診療行為確認・登録）">（診療内容チェック）（診療行為確認・登録）</a></li>
    
      <li><a href="http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf" target="_parent" title="http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf">http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orca_api/medical_practice_service.rb', line 478</span>

<span class='kw'>def</span> <span class='id identifier rubyid_calc_medical_practice_fee'>calc_medical_practice_fee</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invoice_Number</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='id identifier rubyid_call_01_for_update'>call_01_for_update</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Modify</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_call_01_for_create'>call_01_for_create</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_locked?'>locked?</span>
    <span class='id identifier rubyid_locked_result'>locked_result</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_res'>res</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_calc_medical_practice_fee_without_unlock'>calc_medical_practice_fee_without_unlock</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='comma'>,</span> <span class='id identifier rubyid_res'>res</span><span class='rparen'>)</span>
<span class='kw'>ensure</span>
  <span class='id identifier rubyid_unlock_for_create'>unlock_for_create</span><span class='lparen'>(</span><span class='id identifier rubyid_locked_result'>locked_result</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_contraindication-instance_method">
  
    #<strong>check_contraindication</strong>(params)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>薬剤併用禁忌チェック</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Patient_ID</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_patient_id'>patient_id</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Perform_Month</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Check_Term</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Information</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Code</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>620002477</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Code</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>610422262</span><span class='tstring_end'>&quot;</span></span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='rbracket'>]</span><span class='comma'>,</span>
<span class='rbrace'>}</span>
<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_medical_practice_service'>medical_practice_service</span><span class='period'>.</span><span class='id identifier rubyid_check_contraindication'>check_contraindication</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
  <span class='comment'># エラー処理
</span><span class='kw'>end</span>
<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_perform_month'>perform_month</span> <span class='comment'>#=&gt; 診療年月
</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_patient_information'>patient_information</span> <span class='comment'>#=&gt; 患者情報
</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_medical_information'>medical_information</span> <span class='comment'>#=&gt; チェック薬剤情報
</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_symptom_information'>symptom_information</span> <span class='comment'>#=&gt; 症状詳記内容</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>薬剤併用禁忌情報</p>

<ul>
<li>&quot;Patient_ID&quot; (String)
患者ID</li>
<li>&quot;Perform_Month&quot; (String)
診療年月/7/未設定はシステム日付</li>
<li>&quot;Check_Term&quot; (String)
チェック期間/2/未設定はシステム管理の相互作用チェック期間</li>
<li>&quot;Medical_Information&quot; (Array<Hash>)
チェック薬剤情報

<ul>
<li>&quot;Medication_Code&quot; (String)
薬剤コード/9</li>
<li>&quot;Medication_Name&quot; (String)
薬剤名称</li>
</ul></li>
</ul>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api8" target="_parent" title="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api8">http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api8</a></li>
    
      <li><a href="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api0214.pdf" target="_parent" title="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api0214.pdf">http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api0214.pdf</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


703
704
705
706
707
708
709
710
711</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orca_api/medical_practice_service.rb', line 703</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_contraindication'>check_contraindication</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>contraindication_checkreq</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Request_Number</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>01</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Karte_Uid</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_orca_api'>orca_api</span><span class='period'>.</span><span class='id identifier rubyid_karte_uid'>karte_uid</span><span class='comma'>,</span>
    <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span><span class='comma'>,</span>
  <span class='rbrace'>}</span>
  <span class='const'><span class='object_link'><a href="Result.html" title="OrcaApi::Result (class)">Result</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Result.html#initialize-instance_method" title="OrcaApi::Result#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_orca_api'>orca_api</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/api01rv2/contraindicationcheckv2</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>body:</span> <span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create-instance_method">
  
    #<strong>create</strong>(params)  &#x21d2; <tt><span class='object_link'><a href="MedicalPracticeService/Response3Result.html" title="OrcaApi::MedicalPracticeService::Response3Result (class)">Response3Result</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='update-instance_method'>update</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>診療行為の登録</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_medical_practice_service'>medical_practice_service</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
  <span class='comment'># エラー処理
</span><span class='kw'>end</span>
<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_invoice_number'>invoice_number</span> <span class='comment'>#=&gt; 伝票番号
</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_medical_information'>medical_information</span> <span class='comment'>#=&gt; 診療行為情報
</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_cd_information'>cd_information</span> <span class='comment'>#=&gt; 請求情報</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><ul>
<li>&quot;Base_Date&quot; (String)
基準日/10/収納発行日を診療日付以外とする時に設定</li>
<li>&quot;Ic_Code&quot; (String)
入金方法/2/未設定は、システム管理・患者登録設定内容</li>
<li>&quot;Ic_Request_Code&quot; (String)
入金取り扱い区分/1。
訂正時は１のみとする。初期設定はシステム管理による。

<ul>
<li>1: 今回請求分のみ入力</li>
<li>2: 今回分・伝票の古い未収順に入金</li>
<li>3: 今回分・伝票の新しい未収順に入金</li>
<li>4: 伝票の古い未収順に入金</li>
<li>5: 伝票の新しい未収順に入金</li>
</ul></li>
<li>&quot;Ic_All_Code&quot; (String)
一括入返金区分/1。
入金取り扱い区分が２から５で、前回までの未収額・前回までの過入金がある時のみ「１」で一括入返金処理を行う。</li>
<li>&quot;Cd_Information&quot; (Hash)
収納情報

<ul>
<li>&quot;Ad_Money1&quot; (String)
調整金１/10/マイナス可。
請求額＋(調整金１＋調整金２）がマイナスはエラー。</li>
<li>&quot;Ad_Money2&quot; (String)
調整金２/10/マイナス可。
請求額＋(調整金１＋調整金２）がマイナスはエラー。</li>
<li>&quot;Ic_Money&quot; (String)
入金額/10/今回合計請求額以下であること。マイナス不可</li>
<li>&quot;Re_Money&quot; (String)
返金額/10/マイナス不可。
新規は前回過入金がある時に全額設定、訂正時（前回請求額－今回請求額）がマイナスの時のみ全額設定（返金するときのみ）。</li>
</ul></li>
<li>&quot;Print_Information&quot; (Hash)
印刷区分

<ul>
<li>&quot;Print_Prescription_Class&quot; (String)
処方せん印刷区分/1/０：発行なし、１：発行あり、２：院内処方発行</li>
<li>&quot;Print_Invoice_Receipt_Class&quot; (String)
請求書兼領収書印刷区分/1。</li>
<li>新規

<ul>
<li>0：発行なし</li>
<li>1：発行あり</li>
<li>2：発行あり（1：と違いはない）</li>
</ul></li>
<li>訂正

<ul>
<li>0：発行なし</li>
<li>1：発行あり（訂正分）</li>
<li>2：発行あり（合計）</li>
</ul></li>
<li>&quot;Print_Statement_Class&quot; (String)
診療費明細書印刷区分/1/０：発行なし、１：発行あり</li>
<li>&quot;Print_Medicine_Information_Class&quot; (String)
薬剤情報印刷区分/1/０：発行なし、１：発行あり、２：院外分発行</li>
<li>&quot;Print_Medication_Note_Class&quot; (String)
薬手帳印刷区分/1/０：発行なし、１：発行あり、２：院外分発行</li>
<li>&quot;Print_Appointment_Form_Class&quot; (String)
予約票印刷区分/1/０：発行なし、１：発行あり</li>
</ul></li>
</ul>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MedicalPracticeService/Response3Result.html" title="OrcaApi::MedicalPracticeService::Response3Result (class)">Response3Result</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>日レセからのレスポンス</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api5" target="_parent" title="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api5">http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api5</a></li>
    
      <li><a href="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api21v03.pdf" target="_parent" title="（診療行為確認・登録）">（診療行為確認・登録）</a></li>
    
      <li><a href="http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf" target="_parent" title="http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf">http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orca_api/medical_practice_service.rb', line 564</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invoice_Number</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='id identifier rubyid_call_01_for_update'>call_01_for_update</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Modify</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_call_01_for_create'>call_01_for_create</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_locked?'>locked?</span>
    <span class='id identifier rubyid_locked_result'>locked_result</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_res'>res</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_calc_medical_practice_fee_without_unlock'>calc_medical_practice_fee_without_unlock</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='comma'>,</span> <span class='id identifier rubyid_res'>res</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_res'>res</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_call_05'>call_05</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='comma'>,</span> <span class='id identifier rubyid_res'>res</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
    <span class='id identifier rubyid_locked_result'>locked_result</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_res'>res</span>
<span class='kw'>ensure</span>
  <span class='id identifier rubyid_unlock_for_create'>unlock_for_create</span><span class='lparen'>(</span><span class='id identifier rubyid_locked_result'>locked_result</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="destroy-instance_method">
  
    #<strong>destroy</strong>(params)  &#x21d2; <tt><span class='object_link'><a href="Result.html" title="OrcaApi::Result (class)">OrcaApi::Result</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>診療行為の削除</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'><ul>
<li>&quot;Patient_ID&quot; (String)
患者番号/20/必須</li>
<li>&quot;Perform_Date&quot; (String)
診療日付/10/未設定はシステム日付</li>
<li>&quot;Invoice_Number&quot; (String)
伝票番号/7。
伝票番号がない時のみ、診療科・保険組合せ・連番から受診履歴を決定する。</li>
<li>&quot;Department_Code&quot; (String)
診療科/1。
伝票番号を優先とする。</li>
<li>&quot;Insurance_Combination_Number&quot; (String)
保険組合せ番号/4。
伝票番号を優先とする。</li>
<li>&quot;Sequential_Number&quot; (String)
連番/1。
伝票番号を優先とする。
連番の未設定は１とする。</li>
</ul>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Result.html" title="OrcaApi::Result (class)">OrcaApi::Result</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>日レセからのレスポンス</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api6" target="_parent" title="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api6">http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api6</a></li>
    
      <li><a href="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api21v03.pdf" target="_parent" title="一体化API診療行為削除">一体化API診療行為削除</a></li>
    
      <li><a href="http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf" target="_parent" title="http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf">http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orca_api/medical_practice_service.rb', line 641</span>

<span class='kw'>def</span> <span class='id identifier rubyid_destroy'>destroy</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_call_01_for_update'>call_01_for_update</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_locked?'>locked?</span>
    <span class='id identifier rubyid_locked_result'>locked_result</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_api_result'>api_result</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>S30</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>return</span> <span class='id identifier rubyid_res'>res</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_call_02_for_delete'>call_02_for_delete</span><span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
    <span class='id identifier rubyid_locked_result'>locked_result</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_res'>res</span>
<span class='kw'>ensure</span>
  <span class='id identifier rubyid_unlock_for_update'>unlock_for_update</span><span class='lparen'>(</span><span class='id identifier rubyid_locked_result'>locked_result</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get-instance_method">
  
    #<strong>get</strong>(params)  &#x21d2; <tt><span class='object_link'><a href="Result.html" title="OrcaApi::Result (class)">OrcaApi::Result</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>診療行為の取得</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_medical_practice_service'>medical_practice_service</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
  <span class='comment'># エラー処理
</span><span class='kw'>end</span>
<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_medical_information'>medical_information</span> <span class='comment'>#=&gt; 診療行為登録内容</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'><ul>
<li>&quot;Patient_ID&quot; (String)
患者番号/20/必須</li>
<li>&quot;Perform_Date&quot; (String)
診療日付/10/未設定はシステム日付</li>
<li>&quot;Invoice_Number&quot; (String)
伝票番号/7。
伝票番号がない時のみ、診療科・保険組合せ・連番から受診履歴を決定する。</li>
<li>&quot;Department_Code&quot; (String)
診療科/1。
伝票番号を優先とする。</li>
<li>&quot;Insurance_Combination_Number&quot; (String)
保険組合せ番号/4。
伝票番号を優先とする。</li>
<li>&quot;Sequential_Number&quot; (String)
連番/1。
伝票番号を優先とする。
連番の未設定は１とする。</li>
</ul>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Result.html" title="OrcaApi::Result (class)">OrcaApi::Result</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>日レセからのレスポンス</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api7" target="_parent" title="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api7">http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api7</a></li>
    
      <li><a href="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api21v03.pdf" target="_parent" title="一体化API診療行為削除">一体化API診療行為削除</a></li>
    
      <li><a href="http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf" target="_parent" title="http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf">http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


624
625
626
627
628
629
630
631
632</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orca_api/medical_practice_service.rb', line 624</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_call_01_for_update'>call_01_for_update</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Modify</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_locked?'>locked?</span>
    <span class='id identifier rubyid_locked_result'>locked_result</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_res'>res</span>
<span class='kw'>ensure</span>
  <span class='id identifier rubyid_unlock_for_update'>unlock_for_update</span><span class='lparen'>(</span><span class='id identifier rubyid_locked_result'>locked_result</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_default-instance_method">
  
    #<strong>get_default</strong>(params)  &#x21d2; <tt><span class='object_link'><a href="MedicalPracticeService/Response1Result.html" title="OrcaApi::MedicalPracticeService::Response1Result (class)">Response1Result</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>デフォルト値の返却</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><ul>
<li>&quot;Patient_ID&quot; (String)
患者番号。必須。</li>
<li>&quot;Perform_Date&quot; (String)
診療日付。YYYY-mm-dd形式。未設定はシステム日付。</li>
<li>&quot;Diagnosis_Information&quot; (Hash)

<ul>
<li>&quot;Department_Code&quot; (String)
診療科。必須。</li>
<li>&quot;Medical_Information&quot; (Hash)</li>
<li>&quot;Doctors_Fee&quot; (String)
診察料区分。
01: 初診、02:再診、03:電話再診、09:診察料なし。
設定がなければ、病名などから診察料を返却する。</li>
</ul></li>
</ul>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MedicalPracticeService/Response1Result.html" title="OrcaApi::MedicalPracticeService::Response1Result (class)">Response1Result</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>日レセからのレスポンス</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api10" target="_parent" title="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api10">http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api10</a></li>
    
      <li><a href="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api021s1v3.pdf" target="_parent" title="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api021s1v3.pdf">http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api021s1v3.pdf</a></li>
    
      <li><a href="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api021s1v3_err.pdf" target="_parent" title="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api021s1v3_err.pdf">http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api021s1v3_err.pdf</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


217
218
219
220
221
222
223
224
225
226
227</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orca_api/medical_practice_service.rb', line 217</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_default'>get_default</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>medicalv3req1</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Request_Number</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>00</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Karte_Uid</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_orca_api'>orca_api</span><span class='period'>.</span><span class='id identifier rubyid_karte_uid'>karte_uid</span>
    <span class='rparen'>)</span>
  <span class='rbrace'>}</span>
  <span class='const'><span class='object_link'><a href="MedicalPracticeService/Response1Result.html" title="OrcaApi::MedicalPracticeService::Response1Result (class)">Response1Result</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="MedicalPracticeService/ResponseResult.html#initialize-instance_method" title="OrcaApi::MedicalPracticeService::ResponseResult#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='id identifier rubyid_orca_api'>orca_api</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/api21/medicalmodv31</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>body:</span> <span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_medical_warnings'>ignore_medical_warnings</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_examination_fee-instance_method">
  
    #<strong>get_examination_fee</strong>(params)  &#x21d2; <tt><span class='object_link'><a href="MedicalPracticeService/Response1Result.html" title="OrcaApi::MedicalPracticeService::Response1Result (class)">Response1Result</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>診察料情報の取得</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Patient_ID</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_patient_id'>patient_id</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Perform_Date</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Perform_Time</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Diagnosis_Information</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Department_Code</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>01</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Physician_Code</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>10001</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HealthInsurance_Information</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Insurance_Combination_Number</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_insurance_combination_number'>insurance_combination_number</span><span class='comma'>,</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Information</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>OffTime</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Doctors_Fee</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_doctors_fee'>doctors_fee</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Class</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Class_Name</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Info</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medication_Code</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='rbrace'>}</span><span class='comma'>,</span>
<span class='rbrace'>}</span>
<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_medical_practice_service'>medical_practice_service</span><span class='period'>.</span><span class='id identifier rubyid_get_examination_fee'>get_examination_fee</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_ok?'>ok?</span>
  <span class='comment'># エラー処理
</span><span class='kw'>end</span>
<span class='id identifier rubyid_medical_info'>medical_info</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_medical_information'>medical_information</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medical_Info</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='comment'>#=&gt; 診察料情報</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>params</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><ul>
<li>&quot;Patient_ID&quot; (String)
患者番号/20/必須</li>
<li>&quot;Perform_Date&quot; (String)
診療日付/10/未設定はシステム日付</li>
<li>&quot;Perform_Time&quot; (String)
診療時間/8/未使用</li>
<li>&quot;Diagnosis_Information&quot; (Hash)

<ul>
<li>&quot;Department_Code&quot; (String)
診療科/2/必須</li>
<li>&quot;Physician_Code&quot; (String)
ドクターコード/5</li>
<li>&quot;HealthInsurance_Information&quot; (Hash)
保険情報。
保険組合せ又は保険・公費から保険組合せを決定。
包括分入力（保険組合せ＝９９９９、保険の種類＝９９）。
診察料区分（Doctors_Fee）＝０９　は省略可。</li>
<li>&quot;Insurance_Combination_Number&quot; (String)
保険組合せ番号/4/指定があれば優先</li>
<li>&quot;InsuranceProvider_Class&quot; (String)
保険の種類/3</li>
<li>&quot;InsuranceProvider_Number&quot; (String)
保険者番号/8</li>
<li>&quot;InsuranceProvider_WholeName&quot; (String)
保険の制度名称/20</li>
<li>&quot;HealthInsuredPerson_Symbol&quot; (String)
記号/80</li>
<li>&quot;HealthInsuredPerson_Number&quot; (String)
番号/80</li>
<li>&quot;HealthInsuredPerson_Continuation&quot; (String)
継続区分/1</li>
<li>&quot;HealthInsuredPerson_Assistance&quot; (String)
補助区分/1</li>
<li>&quot;RelationToInsuredPerson&quot; (String)
本人家族区分/1</li>
<li>&quot;HealthInsuredPerson_WholeName&quot; (String)
被保険者名/100</li>
<li>&quot;Certificate_StartDate&quot; (String)
適用開始日/10</li>
<li>&quot;Certificate_ExpiredDate&quot; (String)
適用終了日/10</li>
<li>&quot;PublicInsurance_Information&quot; (Hash)
公費情報　（４）/4

<ul>
<li>&quot;PublicInsurance_Class&quot; (String)
公費の種類/3</li>
<li>&quot;PublicInsurance_Name&quot; (String)
公費の制度名称/20</li>
<li>&quot;PublicInsurer_Number&quot; (String)
負担者番号/8</li>
<li>&quot;PublicInsuredPerson_Number&quot; (String)
受給者番号/20</li>
<li>&quot;Certificate_IssuedDate&quot; (String)
適用開始日/10</li>
<li>&quot;Certificate_ExpiredDate&quot; (String)
適用終了日/10</li>
</ul></li>
<li>&quot;Medical_Information&quot; (Hash)
診療送信内容</li>
<li>&quot;OffTime&quot; (String)
時間外区分/1/外来時間外区分（０から８）とする（環境設定の外来時間外区分）</li>
<li>&quot;Doctors_Fee&quot; (String)
診察料区分/2。
０１＝初診、０２＝再診、０３＝電話再診、０９＝診察料なし。</li>
<li>&quot;Medical_Class&quot; (String)
診療種別区分/3/診察料コードの診療区分</li>
<li>&quot;Medical_Class_Name&quot; (String)
診療種別区分名称/40</li>
<li>&quot;Medication_Info&quot; (Hash)
診療行為

<ul>
<li>&quot;Medication_Code&quot; (String)
診療コード/9/診察料コード。
コードが使用できるかのチェックを行う。
診察料区分の設定がない時のみチェックを行う。</li>
<li>&quot;Medication_Name&quot; (String)
名称/80</li>
</ul></li>
</ul></li>
</ul>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MedicalPracticeService/Response1Result.html" title="OrcaApi::MedicalPracticeService::Response1Result (class)">Response1Result</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>日レセからのレスポンス</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api1" target="_parent" title="http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api1">http://cms-edit.orca.med.or.jp/_admin/preview_revision/16921#api1</a></li>
    
      <li><a href="http://cms-edit.orca.med.or.jp/receipt/tec/api/haori-overview.data/api21v03.pdf" target="_parent" title="（診療処理開始）">（診療処理開始）</a></li>
    
      <li><a href="http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf" target="_parent" title="http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf">http://ftp.orca.med.or.jp/pub/data/receipt/tec/api/haori/HAORI_Layout/api_err.pdf</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


339
340
341
342
343
344
345</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/orca_api/medical_practice_service.rb', line 339</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_examination_fee'>get_examination_fee</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_call_01_for_create'>call_01_for_create</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_locked?'>locked?</span>
    <span class='id identifier rubyid_unlock_for_create'>unlock_for_create</span><span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_res'>res</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Nov  7 05:38:10 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.16 (ruby-2.3.8).
</div>

    </div>
  </body>
</html>